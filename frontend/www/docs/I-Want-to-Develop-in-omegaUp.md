# I Want to Develop in omegaUp  

Thank you for your interest in contributing to omegaUp. Here you will find information about the development environment and a brief description of our project.  

If you are not very familiar with omegaUp, please consider first visiting [omegaUp.com](https://omegaup.com/), creating an account, and solving one or two problems on the platform. Then, you can visit [omegaup.org](https://omegaup.org/) to learn more about the organization and the different areas of our work.  

## Contents  

- [Development Environment](#development-environment)  
- [Architecture (Overview)](#architecture-overview)  
- [Code Structure](#code-structure)  
- [Design Decisions](#design-decisions)  

## Development Environment  

The first step is setting up the development environment. We use Docker for this, and the main operating systems used are Windows and Ubuntu. It can run on macOS, but additional configurations are needed.  

- [Development Environment Installation](https://github.com/omegaup/omegaup/wiki/How-to-Set-Up-Your-Development-Environment-(English)).  

## Architecture (Overview)  

These are the components of omegaUp and how they connect _(temporary codenames are used)_:  

- **[UX](https://github.com/omegaup/omegaup/wiki/UX)**: There are two user interface components. _UX_ is the interface for _Arena_, while the rest of the website is generated by _Frontend_.  
- **[Frontend](https://github.com/omegaup/omegaup/wiki/Frontend)**: A collection of controllers (in the MVC model) that manage site interactions, including problem and contest administration, user management, rankings, solved and pending problems, the scoreboard, and more. _Frontend_ communicates with _Backend_ to compile and run programs. Written in PHP+MySQL.  
- **Backend**: The evaluation subsystem, written in Go.  
  - **[Grader](https://github.com/omegaup/omegaup/wiki/Grader)**: Responsible for maintaining the submission queue, sending them to one or more _Runners_, receiving responses, and determining a verdict.  
  - **[Runner](https://github.com/omegaup/omegaup/wiki/Runner)**: A decentralized, asynchronous system for compiling and executing programs. Other systems communicate with _Runner_ through a RESTful API. It knows how to compile, execute, and pass input to user-submitted programs and verify their correctness. It is essentially a distributed and user-friendly frontend for _Minijail_.  
  - **Minijail**: A fork of the Linux sandbox used in Chrome OS. It can execute code in C, C++, Perl, Python, Ruby, Java, and Karel. Written in C.  

For more details, you can refer to two papers published in the IOI journal:  

- Luis Héctor CHÁVEZ, Alan GONZÁLEZ, Joemmanuel PONCE.  
  [omegaUp: Cloud-Based Contest Management System and Training Platform in the Mexican Olympiad in Informatics](http://ioinformatics.org/oi/pdf/v8_2014_169_178.pdf).  
- Luis Héctor CHÁVEZ.  
  [libinteractive: A Better Way to Write Interactive Tasks](https://ioinformatics.org/journal/v9_2015_3_14.pdf).  

## Code Structure  

The code is located in `/opt/omegaup`. The development installation includes two pre-configured accounts: `omegaup` (administrator) and `user` (regular user). Their passwords are `omegaup` and `user`, respectively.  

These are the main directories actively used in development:  

- **[frontend/database](https://github.com/omegaup/omegaup/tree/main/frontend/database)**: Contains the main SQL file for constructing the database schema, along with all SQL files added when modifying the database.  
- **[frontend/server/src](https://github.com/omegaup/omegaup/tree/main/frontend/server/src)**: Contains all PHP classes and server-related folders, including:  
  - **[frontend/server/src/DAO](https://github.com/omegaup/omegaup/tree/main/frontend/server/src/DAO)**: Data Access Object (DAO) classes for interacting with the database, storing, and retrieving object instances via MySQL queries.  
  - **[frontend/server/src/DAO/VO](https://github.com/omegaup/omegaup/tree/main/frontend/server/src/DAO/VO)**: Value Object (VO) classes used to construct various objects needed in omegaUp. These are auto-generated and do not need manual modification.  
  - **[frontend/server/src/DAO/Base](https://github.com/omegaup/omegaup/tree/main/frontend/server/src/DAO/Base)**: Base objects containing core methods for database interaction, such as creating, updating, deleting, and retrieving records for each DAO object. These are also auto-generated.  
  - **[frontend/server/src/Controllers](https://github.com/omegaup/omegaup/tree/main/frontend/server/src/Controllers)**: API controller classes that use DAOs to retrieve and manipulate requested information.  
- **[frontend/tests](https://github.com/omegaup/omegaup/tree/main/frontend/tests)**: Contains PHP unit test classes for controllers and Python tests for user interface interactions.  
- **[frontend/www](https://github.com/omegaup/omegaup/tree/main/frontend/www)**: Contains TypeScript and Vue.js files related to the frontend. TypeScript files handle API calls to controllers and process received data. Vue.js files build components that display information to users using HTML and CSS. Each Vue component includes unit tests to check proper visibility, event emission, and expected behavior.  
- **[frontend/templates](https://github.com/omegaup/omegaup/tree/main/frontend/templates)**: Contains internationalization files for English, Spanish, and Portuguese, as well as the main template loading libraries used across all views (e.g., Bootstrap).  

### You may find these useful:  

- [Coding Guidelines](https://github.com/omegaup/omegaup/wiki/Coding-guidelines-(English-version)).  
- [Useful Development Commands](https://github.com/omegaup/omegaup/wiki/Useful-Commands-for-Development).  

## Design Decisions  

- **Encryption for everything**: All communication with omegaUp and its subsystems must be encrypted, both client-to-server and between components. This prevents cheating in contests (e.g., packet sniffing in a programming competition) and mitigates attacks like Firesheep.  
- **Facebook Connect / OAuth / OpenID**: We aim to minimize the number of passwords in the system. Using any identity federation system makes the internet a better place. Users should be able to link multiple identities (e.g., a student registered with `user@email.com` via OpenID should be able to confirm ownership of `a0001@school.mx` and merge both accounts).  
- **Component Decoupling**: Some _Frontend_ functionality will eventually migrate to _Arena_, so components must remain as independent as possible.  
- **Programming Languages**:  
  - Backend: Go/C  
  - Frontend: PHP+MySQL  
  - UX: Vue.js+TypeScript  

### Continue...  

| Topic | Description |  
| ---------------------------- | ------------------------------------------------------------ |  
| [How to Start Developing](https://github.com/omegaup/omegaup/wiki/How-to-Make-a-Pull-Request-(English)) | Git configuration and how to submit a PR. |  
| [Architecture](https://github.com/omegaup/omegaup/wiki/Architecture-(English)) | Software architecture of omegaUp.com. |  
| [Release and Deployment](https://github.com/omegaup/omegaup/wiki/Release-&-deployment-(English)) | How and when deployments occur. |  
