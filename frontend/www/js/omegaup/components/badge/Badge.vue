<template>
  <figure class="badge-container" v-tooltip="description">
    <a class="badge-icon" v-bind:href="`/badge/${this.badge.badge_alias}/`"
      ><img
        v-bind:class="{ 'badge-gray': !this.badge.unlocked }"
        v-bind:src="this.iconUrl"
    /></a>

    <figcaption class="badge-name">
      {{ this.name }}
    </figcaption>
  </figure>
</template>

<style>
.badge-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}
.badge-icon {
  display: block;
  height: 70%;
  width: 100%;
}
.badge-icon img {
  max-height: 100%;
}
.badge-name {
  padding-top: 5px;
}
.badge-gray {
  filter: grayscale(100%);
}
</style>

<script lang="ts">
import { Vue, Component, Prop } from 'vue-property-decorator';
import { omegaup } from '../../omegaup';
import T from '../../lang';
import 'v-tooltip/dist/v-tooltip.css';
import { VTooltip } from 'v-tooltip';

@Component({
  directives: {
    tooltip: VTooltip,
  },
})
export default class Badge extends Vue {
  @Prop() badge!: omegaup.Badge;

  get name(): string {
    return T[`badge_${this.badge.badge_alias}_name`];
  }

  get description(): string {
    return T[`badge_${this.badge.badge_alias}_description`];
  }

  get iconUrl(): string {
    return `/media/dist/badges/${this.badge.badge_alias}.svg`;
  }
}
</script>
